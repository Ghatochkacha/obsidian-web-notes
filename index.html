<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>LumaNotes ‚Äî Apple Notes Style</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#f3f3f5;
      --panel:#ffffff;
      --sidebar:#f7f7f8;
      --line:#e4e4e8;
      --text:#1f1f24;
      --muted:#7c7c87;
      --accent:#ffd84d;
      --accent-strong:#f7c500;
      --radius:14px;
      --shadow:0 10px 30px rgba(31,31,36,.08);
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,system-ui,Arial,sans-serif;background:var(--bg);color:var(--text)}

    .app{
      max-width:1280px;
      margin:14px auto;
      height:calc(100vh - 28px);
      display:grid;
      grid-template-columns:280px 340px 1fr;
      border:1px solid var(--line);
      border-radius:18px;
      overflow:hidden;
      background:var(--panel);
      box-shadow:var(--shadow);
    }

    .left,.middle,.right{min-width:0}
    .left{background:var(--sidebar);border-right:1px solid var(--line);display:flex;flex-direction:column}
    .middle{background:#fcfcfd;border-right:1px solid var(--line);display:flex;flex-direction:column}
    .right{background:#fff;display:flex;flex-direction:column}

    .brand{padding:16px 16px 10px;font-size:15px;font-weight:700;display:flex;align-items:center;gap:8px}
    .dot{width:10px;height:10px;border-radius:99px;background:var(--accent-strong)}
    .section{padding:0 10px 10px}
    .pill{display:block;width:100%;text-align:left;padding:10px 12px;border:0;background:transparent;border-radius:10px;color:#2c2c33;cursor:pointer;font-weight:500}
    .pill:hover{background:#ececef}
    .pill.active{background:#e7e7ec}

    .new-wrap{padding:10px;border-top:1px solid var(--line);margin-top:auto}
    .btn{border:1px solid #e0e0e6;background:#fff;color:#2d2d34;border-radius:10px;padding:9px 12px;font-weight:600;cursor:pointer}
    .btn:hover{background:#f4f4f8}
    .btn-primary{background:var(--accent);border-color:#f3d14c}
    .btn-primary:hover{background:#ffe170}
    .btn-danger{background:#fff3f3;border-color:#ffd6d6;color:#b42323}

    .middle-top{padding:14px 12px;border-bottom:1px solid var(--line)}
    .search{width:100%;padding:10px 12px;border:1px solid var(--line);border-radius:10px;background:#fff;outline:none}
    .search:focus{border-color:#c5c5cf}

    .notes{overflow:auto;padding:10px}
    .card{padding:10px 11px;border-radius:12px;cursor:pointer;border:1px solid transparent;margin-bottom:8px;background:transparent}
    .card:hover{background:#f1f1f5}
    .card.active{background:#ececf2;border-color:#dbdbe4}
    .card .t{font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
    .card .s{font-size:12px;color:var(--muted);margin-top:5px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}
    .card .m{font-size:11px;color:var(--muted);margin-top:6px}

    .editor-top{padding:14px 16px 10px;border-bottom:1px solid var(--line);display:flex;justify-content:space-between;align-items:center;gap:10px}
    .title{font-size:28px;font-weight:700;outline:none;border:none;background:transparent;width:100%;color:var(--text)}
    .meta{font-size:12px;color:var(--muted);padding:0 16px 10px}
    .body-wrap{padding:0 16px 16px;flex:1;display:flex;flex-direction:column}
    textarea{width:100%;height:100%;resize:none;border:1px solid var(--line);border-radius:12px;padding:14px;outline:none;font:15px/1.65 Inter,system-ui,Arial;background:#fff;color:var(--text)}
    textarea:focus{border-color:#c5c5cf}

    .footer{padding:10px 16px;border-top:1px solid var(--line);font-size:12px;color:var(--muted);background:#fcfcfd}

    @media (max-width:1100px){
      .app{grid-template-columns:260px 1fr;height:calc(100vh - 16px);margin:8px}
      .left{display:none}
      .middle{border-right:1px solid var(--line)}
      .right{display:flex}
    }
    @media (max-width:760px){
      .app{grid-template-columns:1fr;height:auto;min-height:100vh;margin:0;border-radius:0}
      .left{display:none}
      .middle{max-height:34vh;border-right:none;border-bottom:1px solid var(--line)}
      .right{display:flex;min-height:66vh}
      .title{font-size:24px}
    }
  </style>
</head>
<body>
  <div class="app">
    <aside class="left">
      <div class="brand"><span class="dot"></span> LumaNotes</div>
      <div class="section">
        <button class="pill active">üìù Notes</button>
        <button class="pill">üìå Pinned</button>
        <button class="pill">üóÇÔ∏è Archive</button>
      </div>
      <div class="new-wrap">
        <button id="newBtn" class="btn btn-primary" style="width:100%">+ New Note</button>
      </div>
    </aside>

    <section class="middle">
      <div class="middle-top"><input id="search" class="search" placeholder="Search notes" /></div>
      <div class="notes" id="list"></div>
    </section>

    <section class="right">
      <div class="editor-top">
        <input id="title" class="title" placeholder="New Note" />
        <button id="delBtn" class="btn btn-danger">Delete</button>
      </div>
      <div class="meta" id="meta">No note selected</div>
      <div class="body-wrap">
        <textarea id="body" placeholder="Start writing..."></textarea>
      </div>
      <div class="footer">Apple Notes-inspired UI ‚Ä¢ Local-first in your browser</div>
    </section>
  </div>

<script>
const KEY='lumanotes_apple_v1';
const el={list:document.getElementById('list'),search:document.getElementById('search'),title:document.getElementById('title'),body:document.getElementById('body'),meta:document.getElementById('meta'),newBtn:document.getElementById('newBtn'),delBtn:document.getElementById('delBtn')};
let state={notes:JSON.parse(localStorage.getItem(KEY)||'[]'),active:null};

function mk(title='New Note',content=''){const t=Date.now();return{id:crypto.randomUUID(),title,content,createdAt:t,updatedAt:t};}
function save(){localStorage.setItem(KEY,JSON.stringify(state.notes));}
function fmt(ts){return new Date(ts).toLocaleString();}
function getActive(){return state.notes.find(n=>n.id===state.active)}
function esc(s){return String(s).replaceAll('&','&amp;').replaceAll('<','&lt;').replaceAll('>','&gt;')}

if(!state.notes.length){
  state.notes=[mk('Welcome to LumaNotes','This is your Apple Notes-style web app.\n\n- Create notes\n- Search instantly\n- Everything stays local in your browser')];
  save();
}
state.active=state.notes[0]?.id||null;

function renderList(){
  const q=el.search.value.toLowerCase().trim();
  const arr=state.notes.filter(n=>(n.title+' '+n.content).toLowerCase().includes(q)).sort((a,b)=>b.updatedAt-a.updatedAt);
  el.list.innerHTML=arr.map(n=>`<article class="card ${n.id===state.active?'active':''}" data-id="${n.id}">
    <div class="t">${esc(n.title||'Untitled')}</div>
    <div class="s">${esc((n.content||'').slice(0,100))}</div>
    <div class="m">${fmt(n.updatedAt)}</div>
  </article>`).join('');
  [...el.list.querySelectorAll('.card')].forEach(c=>c.onclick=()=>{state.active=c.dataset.id;render();});
}

function renderEditor(){
  const n=getActive();
  if(!n){el.title.value='';el.body.value='';el.meta.textContent='No note selected';return;}
  el.title.value=n.title;
  el.body.value=n.content;
  el.meta.textContent='Edited '+fmt(n.updatedAt);
}

function render(){renderList();renderEditor();save();}
function update(){const n=getActive();if(!n)return;n.title=el.title.value||'Untitled';n.content=el.body.value;n.updatedAt=Date.now();render();}

el.search.oninput=renderList;
el.title.oninput=update;
el.body.oninput=update;
el.newBtn.onclick=()=>{const n=mk('New Note','');state.notes.unshift(n);state.active=n.id;render();el.title.focus();};
el.delBtn.onclick=()=>{if(!state.active)return;state.notes=state.notes.filter(n=>n.id!==state.active);state.active=state.notes[0]?.id||null;render();};

render();
</script>
</body>
</html>